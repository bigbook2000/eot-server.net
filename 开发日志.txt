2024-12-17
统一配置和升级命令，如果传输文件长度则上传新的版本文件，否则仅仅复制旧的版本文件。
目的是无论升级还是更新配置，都需要处理备份回滚。

2024-12-10
考虑到后期数据库迁移，尤其是国产化需求，将原有的存储过程方式改为兼容性更好的SQL语句，设计开发了SQL语句管理模块，之所以不采用ORM模式，强调性能和扩展性。

2024-08-27
(1)由于物联网对HTTP有一定的限制，改为TCP协议升级上传文件

首先使用3109指令标记升级类型、版本、文件长度、校验码参数，设备终端收到指令之后停止任何HJ212协议解析，接受到的任何数据都作为版本文件存储在W25Q中。
前端WebUI在发送升级指令之后立即返回，不等待升级结果避免复杂的逻辑超时。
上传文件时需要在数据库中记录文件大小和校验码

(2)每次只能发送一条控制指令给设备（串行）
所以用DicPackageCommand表来管理，但由于可能存在逻辑异常，造成串行命令阻塞，需要有心跳机制来移除堵塞的命令